<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <title>Reportando vulnerabilidades en proyectos open source</title>

  <link rel="stylesheet" href="node_modules/reveal.js/dist/reset.css">
  <link rel="stylesheet" href="node_modules/reveal.js/dist/reveal.css">
  <link rel="stylesheet" href="node_modules/reveal.js/dist/theme/white.css">

  <!-- Theme used for syntax highlighting of code -->
  <link rel="stylesheet" href="node_modules/highlight.js/styles/atom-one-light.css ">

  <!-- Fontawewome -->
  <link href="node_modules/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
</head>

<body>
  <div class="reveal">
    <div class="slides">
      <section>
        <header>
          <h1>Reportando vulnerabilidades</h1>
          <h2>en proyectos Open Source</h2>
        </header>
        <p>
          <small>
            Santos Gallegos
            -
            <a href="mailto:stsewd@proton.me">
              stsewd@proton.me
            </a>
          </small>
          <br>
          <small>
            @stsewd
            <a href="http://github.com/stsewd"><i class="fab fa-github"></i></a>
            <a href="http://twitter.com/stsewd"><i class="fab fa-twitter"></i></a>
          </small>
        </p>

        <aside class="notes">
          Probablemente me recuerden de charlas relacionadas con open source,
          y la importancia de contribuir a ellos.
          Bueno, esta es otra de esas charlas,
          pero con un enfoque hacia la seguridad.
        </aside>
      </section>


      <section>
        <h2>$ WHOAMI</h2>
        <ul>
          <li>Web developer</li>
          <li>Ethical hacker</li>
          <li><i class="fab fa-python"></i> <i class="fab fa-rust"></i></li>
          <li>
            @stsewd - <a href="https://stsewd.dev/" target="_blank">https://stsewd.dev/</a>
          </li>
        </ul>

        <p>
          <img src="img/rtd-logo-vertical.png" width="400px">
        </p>
        <aside class="notes">
          Hola, soy Santos Gallegos, soy desarrollador web, y hacker ético.
          Contribuyo activamente a proyectos open source,
          y he reportado vulnerabilidades en varios proyectos dentro y fuera de mi trabajo,
          como vim, neovim, gitpython.
          Principalmente trabajo con Python y Rust.
          Actualmente trabajo en Read the Docs, soy core developer.
          Me pueden encontrar en Internet como stsewd.
        </aside>
      </section>

      <section data-background-image="img/contribute.svg" data-background-opacity="0.3" data-background-size="contain"
        data-transition="fade-out">
        <h2>Contribuyendo a proyectos open source</h2>

        <ul>
          <li>Código</li>
          <li>Documentación</li>
          <li>Traducciones</li>
          <li>Reportando bugs</li>
        </ul>

        <aside class="notes">
          Contribuir a proyectos open source es una excelente forma de
          aprender, de hacer networking, de mejorar tu CV, y de ayudar a la
          comunidad, de dejar de ser simplemente consumidores.

          Se puede contribuir a un proyecto de muchas formas,
          no necesariamente escribiendo código.
          Por ejemplo, reportando bugs, respondiendo preguntas,
          escribiendo documentación, traduciendo, etc.

          Y una de las formas que vamos a ver hoy es reportando bugs, especialmente bugs que pueden llevar a una
          vulnerabilidad.
        </aside>
      </section>

      <section data-background-color="#1b998b" data-background-image="img/contribute.svg" data-background-opacity="0.1"
        data-background-size="contain" data-transition="fade-in">
        <h2>Contribuyendo a proyectos open source</h2>
        <h2 class="r-fit-text">Reportando</h2>
        <h2 class="r-fit-text">vulnerabilidades</h2>
      </section>

      <section data-background-color="#89CFF3" data-background-image="img/shield.png" data-background-size="400px"
        data-background-opacity="0.5">
        <header>
          <h2 class="r-fit-text">Seguridad en</h2>
          <h2 class="r-fit-text">proyectos</h2>
          <h2 class="r-fit-text">Open source</h2>
        </header>

        <p>
          <small>
            <a href="https://snyk.io/reports/open-source-security/">https://snyk.io/reports/open-source-security/</a>
          </small>
        </p>

        <aside class="notes">
          Siempre presumimos que los proyectos open source son más seguros que los proyectos privativos,
          el código es público, todo el mundo puede verlo, por lo que introducir una vulnerabilidad es más difícil.
          Pero no siempre es así.

          Ahí les dejo un artículo de Snyk, sobre el estado de la seguridad en proyectos open source en 2023.
        </aside>
      </section>

      <section>
        <h2>Seguridad en proyectos Open source</h2>
        <img src="img/xkcd-dependency.png" alt="">
      </section>

      <section data-background-image="img/shield.png" data-background-size="400px" data-background-opacity="0.3">
        <h2>Seguridad en proyectos Open source</h2>
        <h3>Vectores de ataque</h3>
        <ul>
          <li>
            Acceso no autorizado al repositorio
          </li>
          <li>
            Acceso no autorizado a la cuenta de un maintainer
          </li>
          <li>
            Código malicioso en un pull request
          </li>
          <li>
            Supply chain attacks
          </li>
        </ul>

        <aside class="notes">
          Existen varios vectores de ataque, por ejemplo,
          un atacante puede obtener acceso al repositorio,
          esto puede ser por un leak de credenciales de una API,
          explotando alguna vulnerabilidad en el CI.
          Acceso no autorizado a la cuenta de un maintainer,
          puede ser por un leak de credenciales,
          take over de una cuenta de correo,
          por ello es importante usar autenticación de dos factores.
          Un atacante puede enviar un PR intencionadamente con un vulnerabilidad
          (hubo el caso de una universidad que hizo esto con fines de investigación y fue baneada del kernel de Linux).
          Supply chain attacks, que es cuando una dependencia directa o indirecta es comprometida.
        </aside>
      </section>

      <section data-background-image="img/shield.png" data-background-size="400px" data-background-opacity="0.3">
        <h2>Seguridad en proyectos Open source</h2>
        <p>
          Vulnerabilidades introducidas de manera no intencionada
        </p>

        <aside class="notes">
          Hoy vamos a enfocarnos en bugs que se introducen de manera no intencionada,
          y que pueden llevar a una vulnerabilidad que podría comprometer la integridad, disponibilidad o
          confidencialidad de un sistema.

          Esto puede ser por desconocimiento, o por descuido. Errores pasan.

          Los otros tipos vulnerabilidades también se pueden reportar, y seguir el mismo proceso,
          en realidad, gran parte del proceso que vamos a ver se puede aplicar a proyectos que no son open source.

          Y para poder seguir presumiendo de la seguridad de los proyectos open source,
          es importante que ayudemos encontrando, reportando y arreglando vulnerabilidades.
          Entre más ojos mejor, la prevención es importante,
          y hasta el uso de herramientas como fuzzers, scanners, y linters.
        </aside>
      </section>

      <section data-background-color="#da5552">
        <h2>Ejemplo 🐞</h2>
        <p>
          Vulnerabilidades introducidas de manera no intencionada
        </p>

        <pre class=""><code data-trim data-noescape class="python" data-line-numbers="1-5|3-5,7-8|3-5,10-11">
            import subprocess

            def clone(repo, destination):
                # Código vulnerable a code injection.
                subprocess.run(["git", "clone", repo, destination])

            # Esto no funciona
            clone("; touch /tmp/pwn;", "...")

            # Esto si!
            clone("--upload-pack=touch /tmp/pwn", "file:///foo")
          </code></pre>

        <aside class="notes">
          Por ejemplo, este código es vulnerable a un ataque de command injection.
          Pero Santos, ese código está usando subprocess.run, que no es vulnerable a command injection.
          Correcto, no lo es, algo como esto no funcionaría.
          Pero la forma en la que estamos invocando git es vulnerable,
          ya que le podemos hacer que git interprete el repositorio como una opción,
          en lugar de un argumento posicional.
          En este caso al opción --upload-pack, esta puede ejecutar cualquier comando.
      </section>

      <section data-background-color="#1b998b">
        <h2>Ejemplo 🐞</h2>
        <p>
          Vulnerabilidades introducidas de manera no intencionada
        </p>

        <pre><code data-trim data-noescape class="python" data-line-numbers="4|">
            import subprocess

            def clone(repo, destination):
                subprocess.run(["git", "clone", "--", repo, destination])

            # Esto no funciona
            clone("; touch /tmp/pwn;", "...")

            # Esto tampoco!
            clone("--upload-pack=touch /tmp/pwn", "file:///foo")
          </code></pre>

        <p>
          <small>
            <a style="color: white;" href="https://github.com/gitpython-developers/GitPython/pull/1518">
              https://github.com/gitpython-developers/GitPython/pull/1518
            </a>
          </small>
        </p>

        <aside class="notes">
          La solución es poner un doble guión para indicarle a git que no hay más opciones,
          y que las siguientes argumentos deben ser interpretados como argumentos posicionales.

          Esta es una vulnerabilidad real, que reporté y ayudé a arreglar
          en la librería GitPython.
        </aside>
      </section>

      <section data-background-color="#89CFF3">
        <header>
          <h2 class="r-fit-text">Reportando</h2>
          <h2 class="r-fit-text">vulnerabilidades</h2>
        </header>

        <aside class="notes">
          A continuación vamos a ver los pasos a seguir para reportar una vulnerabilidad en un proyecto open source,
          hasta su resolución, divulgación y posible obtención de un CVE.

          El primer paso es haber encontrado una vulnerabilidad.
          Ya vamos a hablar un poco de como encontrar vulnerabilidades más adelante.
        </aside>
      </section>

      <section data-background-color="#89CFF3" data-background-image="img/confidential.png" data-background-size="600px"
        data-background-opacity="0.5">
        <h2 class="r-fit-text">
          Confidencialidad
        </h2>
        <p>
          Mantener la confidencialidad durante todo el proceso es importante
        </p>

        <aside class="notes">
          Mantener la confidencialidad durante todo el proceso es importante,
          debemos mantener la vulnerabilidad en secreto hasta que haya sido mitigada y publicada.
        </aside>
      </section>

      <section data-background-color="#da5552" data-background-image="img/confidential.png" data-background-size="600px"
        data-background-opacity="0.5">
        <header>
          <h2>Confidencialidad</h2>
          <h3>Lo que no debemos hacer</h3>
        </header>
        <ul>
          <li>Contarle a todo el mundo</li>
          <li>Publicarlo en redes sociales como LinkedIn o Twitter</li>
          <li>Crear un issue o PR en el repositorio</li>
        </ul>

        <aside class="notes">
          Debemos asegurarnos de reportar la vulnerabilidad de manera confidencial,
          por el medio que el proyecto nos indique.
        </aside>
      </section>

      <section data-background-color="#89CFF3" data-background-image="img/verfication-badge.png"
        data-background-size="700px" data-background-opacity="0.5">
        <h2 class="r-fit-text">
          Verificación
        </h2>
        <p>
          Asegúrate que la vulnerabilidad sea real
        </p>

        <aside class="notes">
          Los errores o malentendidos pueden ocurrir, y no queremos molestar a los maintainers con
          falsos positivos, o que gastes tu tiempo.
        </aside>
      </section>

      <section data-background-image="img/verfication-badge.png" data-background-size="700px"
        data-background-opacity="0.3">
        <h2>Verificación</h2>
        <ul>
          <li>Asegúrate de usar la última version o una versión soportada</li>
          <li>
            Lee la documentación del proyecto
          </li>
          <li>
            Reproduce la vulnerabilidad en un entorno aislado
          </li>
          <li>
            Asegúrate que el origen de la vulnerabilidad sea el proyecto que vas a reportar
          </li>
        </ul>

        <aside class="notes">
          Puede que la vulnerabilidad ya esté arreglada en la rama master o main del proyecto.
          La última versión disponible en repositorios como npm, pypi, etc,
          puede que no sea la última versión proyecto, revisa el lugar donde está alojado el código, como GitHub o
          GitLab.

          Lee la documentación del proyecto, puede que este caso ya esté documentado o tenga una explicación, o
          advertencia sobre su uso.

          Asegúrate que lo puedes reproducir en un entorno aislado, y que no sea un problema de tu entorno.
          Aunque puede que sea válido si el bug solo se puede reproducir en ciertas condiciones.

          Asegúrate que el origen del bug sea en el proyecto donde lo vas a reportar,
          y no en una dependencia.

          Otra vez, puede que sea válido si el bug solo se puede reproducir en ciertas condiciones.
        </aside>
      </section>

      <section data-background-color="#da5552" data-transition="none-out">
        <h2>Ejemplo 🐛</h2>
        <p>
          Vulnerabilidades bajo ciertas circunstancias
        </p>

        <pre class=""><code data-trim data-noescape class="python" data-line-numbers="|2,4">
          urlpatterns = [
              # Vulnerable a cache poisoning bajo ciertas circunstancias.
              re_path(
                  r"^account/security-log/",
                  UserSecurityLog.as_view(),
                  name="user_security_log",
              )
          ]
        </code></pre>

        <div class="fragment">
          <img src="img/cf-logo.png" width="250">
          <p>
            <q>Cloudflare only caches based on file extension and not by MIME type. The Cloudflare CDN does not cache
              HTML by default.</q>
          </p>
          <p>
            <small>
              <a style="color: white;"
                href="https://developers.cloudflare.com/cache/concepts/default-cache-behavior/#default-cached-file-extensions">https://developers.cloudflare.com/cache/concepts/default-cache-behavior/#default-cached-file-extensions</a>
            </small>
          </p>

        </div>

        <aside class="notes">
          Este es un ejemplo de un proyecto hecho en Django,
          Lo que esto hace es que mapea la ruta /account/security-log/ a una vista,
          esto lo hace usando una expresión regular.

          Este código es vulnerable a cache poisoning bajo ciertas circunstancias.

          Qué pasaría si le agregamos un CDN como Cloudflare,
          para mejorar el performance de nuestro sitio web,
          cachear contenido estático, como imágenes, css, js.

          CF es muy bueno en ello.
          Esto es extraído de la documentación de CF.
          Nos dice que por defecto aplica el cache por extensión de archivo,
          (entre ellas js, css, imágenes, etc), y también nos dice que no
          aplica el cache a HTML por defecto. Lo cual es genial!
          No queremos que todo el mundo vea el contenido de la página de otros usuarios.
        </aside>
      </section>

      <section data-transition="none-in" data-background-color="#da5552">
        <h2>Ejemplo 🐛</h2>
        <p>
          Vulnerabilidades bajo ciertas circunstancias
        </p>

        <pre class=""><code data-trim data-noescape class="python" data-line-numbers="2,4">
          urlpatterns = [
              # Vulnerable a cache poisoning bajo ciertas circunstancias.
              re_path(
                  r"^account/security-log/",
                  UserSecurityLog.as_view(),
                  name="user_security_log",
              )
          ]
        </code></pre>

        <div>
          <img src="img/cf-logo.png" width="250">
          <p>
            <q>Cloudflare only caches <strong>based on file extension and not by MIME type</strong>. The Cloudflare CDN
              does not cache HTML by default.</q>
          </p>

          <p>
            <small>
              <a style="color: white;"
                href="https://developers.cloudflare.com/cache/concepts/default-cache-behavior/#default-cached-file-extensions">https://developers.cloudflare.com/cache/concepts/default-cache-behavior/#default-cached-file-extensions</a>
            </small>
          </p>

        </div>

        <aside class="notes">
          Pero pongamos un poco más de atención a lo que dice la documentación.
          Nos dice que el cache es aplicado por extensión de archivo, y no por MIME type.
          Lo que quiere decir que si una URL termina en .js, CF va a aplicar el cache.
        </aside>
      </section>

      <section data-background-color="#da5552">
        <h2>Ejemplo 🐛</h2>
        <p>
          Vulnerabilidades bajo ciertas circunstancias
        </p>

        <pre class=""><code data-trim data-noescape class="python" data-line-numbers="2,4">
          urlpatterns = [
              # Vulnerable a cache poisoning bajo ciertas circunstancias.
              re_path(
                  r"^account/security-log/",
                  UserSecurityLog.as_view(),
                  name="user_security_log",
              )
          ]
        </code></pre>

        <pre class=""><code data-trim data-noescape class="console" data-line-numbers="1-3|5-7|9-11|13-15" style="max-height: 200px;">
          $ curl -I https://example.com/account/security-log/
          HTTP/2 200
          cf-cache-status: DYNAMIC

          $ curl -I https://example.com/account/security-log/foo/bar/
          HTTP/2 200
          cf-cache-status: DYNAMIC

          $ curl https://example.com/account/security-log/foo/bar.js
          HTTP/2 200
          cf-cache-status: MISS

          $ curl https://example.com/account/security-log/foo/bar.js
          HTTP/2 200
          cf-cache-status: HIT
        </code></pre>

        <aside class="notes">
          Lo que nos lleva a la vulnerabilidad.
          Aquí vemos un request normal a la página,
          CF nos retorna este header indicando el estado del cache para esta página.
          En este caso nos dice DYNAMIC, que significa que el cache no aplica a esta página.

          Aquí vemos que si le agregamos cualquier cosa a la URL, el servidor nos retorna la página,
          este es debido a que en la expresión regular no estamos validando el final de la URL,
          toda URL que empiece con /account/security-log/ va a ser mapeada a la vista.

          Pero aún vemos que la página no está siendo cacheada.
          Gracias a que CF no aplica el cache a HTML por defecto.

          Pero que pasa si le agregamos .js al final de la URL?
          CF va a aplicar el cache, ya que la URL termina en una extensión de archivo
          que CF aplica el cache.

          En este caso tenemos MISS que significa que el cache aplica a esta página,
          pero no fue encontrado, pero la siguiente vez que hagamos el request,
          el contenido de la página va a ser servido desde el cache, y no desde el servidor.

          Con esto podemos hacer que un usuario logeado ingrese a esta URL,
          y su contenido sea agregado al cache de CF,
          luego de que el usuario ingrese a la página, el atacante ingresa a la página,
          y el contenido de la página del usuario logeado es servido desde el cache de CF.
        </aside>
      </section>

      <section data-background-color="#1b998b">
        <h2>Ejemplo 🐛</h2>
        <p>
          Vulnerabilidades bajo ciertas circunstancias
        </p>

        <pre class=""><code data-trim data-noescape class="python" data-line-numbers="|2,4">
          urlpatterns = [
              # Vulnerable a cache poisoning bajo ciertas circunstancias.
              re_path(
                  r"^account/security-log/$",
                  UserSecurityLog.as_view(),
                  name="user_security_log",
              )
          ]
        </code></pre>

        <pre class=""><code data-trim data-noescape class="console">
          $ curl -I https://example.com/account/security-log/
          HTTP/2 200
          cf-cache-status: DYNAMIC

          $ curl -I https://example.com/account/security-log/foo/bar/
          HTTP/2 404
          cf-cache-status: DYNAMIC

          $ curl https://example.com/account/security-log/foo/bar.js
          HTTP/2 404
          cf-cache-status: DYNAMIC
        </code></pre>

        <p>
          <small>
            <a style="color: white;"
              href="https://github.com/readthedocs/readthedocs.org/security/advisories/GHSA-7fcx-wwr3-99jv">https://github.com/readthedocs/readthedocs.org/security/advisories/GHSA-7fcx-wwr3-99jv</a>
          </small>
        </p>

        <aside class="notes">
          Esto lo podemos arreglar de varias formas,
          una manera de arreglarlo desde el código es terminar la expresión regular con $.

          De esta manera solo vamos a mapear la URL /account/security-log/ de manera exacta.
          Los ejemplos anteriores ahora ya no funcionan, ya que la página no existe,
          y el cache no aplica.

          Esta es una vulnerabilidad real que reporté y ayudé a arreglar en mi trabajo.
        </aside>
      </section>

      <section data-background-color="#89CFF3" data-background-image="img/security-policy.png"
        data-background-size="250px" data-background-opacity="0.5">
        <h2 class="r-fit-text">
          Política de seguridad
        </h2>
        <h2 class="r-fit-text">
          Contacto
        </h2>
        <p>
          Busca la política de seguridad, contacto, o medio adecuado para reportar la vulnerabilidad
        </p>

        <aside class="notes">
          Ya tenemos comprobado que la vulnerabilidad es real.
          El siguiente paso es buscar la política de seguridad del proyecto,
          o el medio adecuado para reportar la vulnerabilidad.
        </aside>
      </section>

      <section data-background-image="img/security-policy.png" data-background-size="250px"
        data-background-opacity="0.3">
        <h2>Política / Contacto</h2>
        <p>Repositorio del proyecto</p>
        <ul>
          <li><code>SECURITY.md</code></li>
          <li><code>SECURITY.txt</code></li>
          <li><code>README.md</code></li>
        </ul>

        <aside class="notes">
          El primer lugar donde buscar es en el repositorio del proyecto,
          especialmente en los siguientes archivos.

          Si el repositorio está hospedado en GitHub,
          en la parte superior del proyecto podemos encontrar una pestaña "Security",
          donde se encuentra la política de seguridad del proyecto.
        </aside>
      </section>

      <section data-background-image="img/security-policy.png" data-background-size="250px"
        data-background-opacity="0.3">
        <h2>Política / Contacto</h2>
        <p>Documentación o web principal</p>
        <ul>
          <li>Realiza una búsqueda: security</li>
          <li>
            https://github.com<mark>/.well-known/security.txt</mark>
          </li>
        </ul>

        <aside class="notes">
          Si no encontramos nada en el repositorio, podemos buscar en la documentación del proyecto,
          con palabras clave como security, vulnerability, etc.

          Si el proyecto tiene una web principal, podemos buscar en el path /.well-known/security.txt,
          es un estándar de la industria.
        </aside>
      </section>

      <section data-background-color="#ff9770">
        <h2>Política de seguridad</h2>

        <p class="r-fit-text">¡Léela!</p>

        <aside class="notes">
          Si encontramos una política de seguridad, lo primero que debemos hacer es leerla.
          Ahí vamos a encontrar información importante, como el medio adecuado para reportar la vulnerabilidad,
          las versiones soportadas, el tiempo de respuesta, las vulnerabilidades que son válidas, etc.
        </aside>
      </section>

      <section data-background-image="img/security-policy.png" data-background-size="250px"
        data-background-opacity="0.3">
        <header>
          <h2><code>404</code></h2>
          <h2><code>Contacto Not Found</code></h2>
        </header>

        <section>
          <p>
            Pregunta por el contacto en el repositorio
          </p>


          <ul>
            <li>
              Issue tracker
            </li>
            <li>
              Lista de correos
            </li>
          </ul>
          <p>
            <strong>
              ¡Recuerda no incluir detalles de la vulnerabilidad!
            </strong>
          </p>
          <aside class="notes">
            Si el proyecto no tiene una política de seguridad,
            o no la encontramos, tenemos dos opciones,
            preguntar por el contacto en el repositorio,
            creando un issue o enviando un correo a la lista de correos.

            Recuerda que estos medios no son confidenciales,
            no incluyas detalles de la vulnerabilidad.

            Escribe algo como "Encontré una vulnerabilidad en el proyecto, ¿cual es el medio adecuado para reportarla?"
          </aside>
        </section>

        <section>
          <p>
            Busca un email de algún maintainer
          </p>
          <ul>
            <li>
              Documentación
            </li>
            <li>
              Historial de commits
            </li>
          </ul>
          <p>
            <strong>
              Asegúrate de que es la persona correcta
              antes de incluir detalles de la vulnerabilidad.
            </strong>
          </p>

          <aside class="notes">
            La otra opción es buscar un email de algún maintainer,
            esto lo podemos hacer buscando en la documentación,
            o en el historial de commits (git log).

            Si encuentras un email,
            no envíes el reporte sin antes asegurarte que es la persona correcta,
            y el medio adecuado para reportar la vulnerabilidad.

            Escribe algo como "Encontré una vulnerabilidad en el proyecto, ¿es este el medio adecuado para reportarla o
            eres la persona con la que debo contactar?".
          </aside>
        </section>
      </section>

      <section data-background-color="#89CFF3" data-background-image="img/typewritter.png" data-background-size="300px"
        data-background-opacity="0.2">
        <h2 class="r-fit-text">Reporte</h2>
        <p>
          Al final de la búsqueda, deberíamos tener un email o plataforma donde reportar la vulnerabilidad
          de manera confidencial.
        </p>
      </section>

      <section>
        <h2>Reporte</h2>
        <p>
          Incluye la mayor cantidad de información posible
        </p>
        <ul>
          <li>
            Líneas de código afectadas o vulnerables
          </li>
          <li>
            Proof of Concept (PoC)
          </li>
          <li>
            Impacto
          </li>
          <li>
            Sugerencias de como arreglar el bug
          </li>
        </ul>

        <p style="text-align: right; opacity: 0.9;">
          <img src="img/typewritter.png" alt="" width="200">
        </p>

        <aside class="notes">
          Dependiendo del proyecto, puede que tengamos disponible un template para reportar bugs de seguridad,
          o puede que no. En cualquier caso, asegúrate de incluir la mayor cantidad de información posible,
          para que los maintainers puedan reproducir el bug, puedes incluir un PoC (Proof of Concept),
          sugerencias de como arreglar el bug, el impacto de la vulnerabilidad,
          link al código vulnerable, versiones afectadas, o hasta sugerir un parche en tu reporte.
        </aside>
      </section>

      <section>
        <h2>Reporte</h2>

        <p>Recuerda...</p>
        <ul>
          <li>
            Confidencialidad
          </li>
          <li>
            Sé paciente y amable, los maintainers son voluntarios
          </li>
          <li>
            Como todo tipo de contribución,
            reportar una vulnerabilidad es una contribución voluntaria*
          </li>
        </ul>

        <p style="text-align: right; opacity: 0.9;">
          <img src="img/typewritter.png" alt="" width="200">
        </p>

        <aside class="notes">
          Cuando hayas enviado el reporte, puede que tengas una respuesta en un par de días en el mejor caso.

          Recuerda no publicar nada hasta que la vulnerabilidad haya sido mitigada y publicada.

          Recuerda, que al menos que el proyecto sea de alguna compañía,
          los maintainers son voluntarios, nadie les paga por mantener el proyecto.
          Sé paciente y amable, puede que la persona de contacto no esté familiarizada con el proceso
          de reportar bugs de seguridad (en su mayoría son developers),
          así que trata de no usar jerga de seguridad, y explica todo lo mejor posible.
          Trata de hacer la vida de los maintainers lo más fácil posible.
        </aside>
      </section>

      <section data-background-color="#89CFF3">
        <header>
          <h2 class="r-fit-text">Confirmación y</h2>
          <h2 class="r-fit-text">Mitigación</h2>
        </header>
        <p>
          Una vez que la vulnerabilidad haya sido confirmada, el siguiente paso es arreglarla.
        </p>

        <aside class="notes">
          Una vez que la vulnerabilidad haya sido confirmada, el siguiente paso es arreglarla.
          Este proceso usualmente es realizado de manera privada, y puede ser inmediata o puede tomar varios días o
          semanas.
          Puede que te pidan ayuda para verificar que la vulnerabilidad ha sido completamente mitigada, u opinión sobre
          como arreglarla.

          Estate atento a los correos, o a la plataforma que se está usando para que puedas responder lo más pronto
          posible.

          Recuerda no publicar nada hasta que la vulnerabilidad haya sido mitigada y publicada.
        </aside>
      </section>

      <section>
        <header>
          <h2><code>404</code></h2>
          <h2><code>Confirmación Not Found</code></h2>
        </header>
        <p>
          Puedes hacer tu reporte público luego de 90 días,
          es el estándar de la industria.
        </p>

        <aside class="notes">
          Asegúrate que hayas intentado contactar a los maintainers por todos los medios posibles.
          Si no recibes respuesta del proyecto dentro de 90 días, puedes hacer público el reporte.
          90 días es el estándar de la industria. Pero puede que los maintainers te pidan más tiempo.
          No porque no les contestaron en 2 días, significa que no les importa,
          recuerda que los maintainers son voluntarios, y pueden tener otras prioridades.
          No tienen la obligación de responder a tu reporte, o arreglar la vulnerabilidad.
        </aside>
      </section>

      <section data-background-color="#89CFF3">
        <header>
          <h2 class="r-fit-text">
            Divulgación
          </h2>
          <h2 class="r-fit-text">
            Pública
          </h2>
        </header>
        <p>
          Los maintainers tienen la opción de reservar un CVE para la vulnerabilidad si lo consideran necesario.
        </p>
        <p>
          Está bien pedir o recordar a los maintainers que te acrediten por reportar la vulnerabilidad.
        </p>

        <aside class="notes">
          Y finalmente, una vez que la vulnerabilidad ha sido arreglada, puedes hacer público tu reporte.
        </aside>
      </section>

      <section>
        <h2 class="r-fit-text">Plataformas</h2>
        <p>
          Existen varias plataformas que son muy útiles parar las personas que reportan vulnerabilidades,
          y para los maintainers.
        </p>

        <aside class="notes">
          En la mayoría de casos que los proyectos no tienen una política de seguridad,
          el proceso se da por email, pero proyectos que tienen una política de seguridad,
          pueden usar una plataforma para reportar vulnerabilidades.
          Existen varias plataformas que son muy útiles parar las personas que reportan vulnerabilidades,
          y para los maintainers.
        </aside>
      </section>

      <section>
        <h2>Plataformas</h2>
        <ul>
          <li>
            Snyk - <a href="https://snyk.io/">https://snyk.io/</a>
          </li>
          <li>
            huntr.dev - <a href="https://huntr.dev/">https://huntr.dev/</a>
          </li>
          <li>
            GitHub Advisories - <a
              href="https://docs.github.com/code-security">https://docs.github.com/code-security</a>
          </li>
          <li>
            hackerone - <a href="https://hackerone.com/">https://hackerone.com/</a>
          </li>
        </ul>

        <aside class="notes">
          Snyk te ayuda a contactar a los maintainers, a verificar la vulnerabilidad, y dan seguimiento a esta.

          huntr.dev recientemente fue adquirida por una compañía,
          y ahora solo aceptan reportes de vulnerabilidades en proyectos relacionados con AI.
          Lo interesante de esta plataforma es que podías obtener recompensas por reportar vulnerabilidades,
          y estas eran incluso repartidas con la persona que arreglo la vulnerabilidad.

          GitHub Advisories es una plataforma de GitHub para reportar vulnerabilidades en proyectos open source.
          Es muy completa, y su integración con el repositorio es muy buena.

          hackerone es usualmente usada por compañías, pero también he visto un par de proyectos open source como Django
          que la usan.
          Yo no he tenido la oportunidad de reportar vulnerabilidades en esta plataforma, por ahora.

          Todas estas plataformas facilitan la obtención de un CVE.

          Si el proyecto no tiene una política de seguridad, puedes sugerirle al proyecto una,
          o si no usa una de estas plataformas, puedes sugerirle al proyecto que las use.
        </aside>
      </section>

      <section>
        <h2 class="">GitHub Advisories</h2>

        <ul>
          <li>Reportes, clasificación</li>
          <li>Discusiones privadas</li>
          <li>Versiones afectadas</li>
          <li>CWE, CVSS, CVE</li>
          <li>PRs privadas</li>
          <li>Crédito a todos los involucrados</li>
        </ul>

        <p style="text-align: right;">
          <img src="img/github-mark.png" alt="" width="100">
        </p>

        <aside class="notes">
          - Puedes crear un reporte de vulnerabilidad, y enviarlo al proyecto.
          - Los maintainer pueden clasificar el reporte como válido o no.
          - Se pueden crear discusiones sobre el reporte. Todas esa discusiones son privadas.
          - Se pueden invitar a otras personas a participar en la discusión.
          - Te permite clasificar la severidad de la vulnerabilidad usando CVSS.
          - Permite adjuntar CWEs al reporte.
          - Permite a los maintainers asignar un CVE a la vulnerabilidad.
          - Permite especificas las versiones afectadas.
          - Permite dar crédito a la persona que reportó la vulnerabilidad,
          a la que la arregló, y a la que la verificó, etc.
        </aside>
      </section>

      <section>
        <header>
          <h2>GitHub advisories</h2>
          <h2>Demo</h2>
        </header>
        <ul>
          <li>
            <a
              href="https://github.com/stsewd/charla-reportando-vulnerabilidades-en-proyectos-open-source/">https://github.com/stsewd/charla-reportando-vulnerabilidades-en-proyectos-open-source/</a>
          </li>
          <li>
            <a
              href="https://github.com/neovim/neovim/security/advisories/GHSA-6f9m-hj8h-xjgj">https://github.com/neovim/neovim/security/advisories/GHSA-6f9m-hj8h-xjgj</a>
          </li>
          <li>
            <a
              href="https://github.com/gitpython-developers/GitPython/security/advisories/GHSA-cwvm-v4w8-q58c">https://github.com/gitpython-developers/GitPython/security/advisories/GHSA-cwvm-v4w8-q58c</a>
          </li>
        </ul>

        <p style="text-align: right;">
          <img src="img/github-mark.png" alt="" width="100">
        </p>
        <aside class="notes">

          Explicar donde encontrar la pestaña de security,
          y como crear un reporte de vulnerabilidad, y explicar cada campo.

          Mostrar esta vulnerabilidad, y explicar cada campo.
          Un CVE no fue emitido.

          Mostrar esta vulnerabilidad, y explicar cada campo.
          Un CVE fue emitido.
        </aside>
      </section>

      <section data-background-color="#89CFF3">
        <header>
          <h2 class="r-fit-text">Encontrando</h2>
          <h2 class="r-fit-text">Vulnerabilidades</h2>
        </header>

        <aside class="notes">
          Ahora que ya sabemos como reportar vulnerabilidades,
          vamos a ver brevemente como encontrarlas.

          El secreto milenario de como encontrar vulnerabilidades y obtener tu CVE.
        </aside>
      </section>

      <section data-background-color="#1b998b">
        <h2>Encontrando vulnerabilidades</h2>

        <p>
          <span class="r-fit-text">EXPLORA Y LEE</span>
          <span class="r-fit-text">CÓDIGO</span>
        </p>

        <aside class="notes">
          Lo peor que puede pasar es que aprendas algo nuevo.
          Es así de sencillo, y de difícil.
          Si, puedes usar herramientas como fuzzers, scanners, y linters.

          Ayuda mucho que estés familiarizado con las vulnerabilidades más comunes.
          De lo contrario puede que leas un código vulnerable y no te des cuenta.
          Lee vulnerabilidades reportadas en otros proyectos, y trata de encontrarlas en otros proyectos.

          Reportar vulnerabilidades es similar a contribuir a un proyecto open source,
          empieza por proyectos que uses, o que te interesen.
          Lee los reportes anteriores, y trata de encontrar vulnerabilidades similares.

          Configura tu editor o IDE, LSP, con lo que te sientas más cómodo,
          y en lugar de estar viendo tiktoks, lee código.
        </aside>
      </section>

      <section data-transition="zoom">
        <h2>¡Tú también puedes hacerlo!</h2>
        <p>
          Hagamos los proyectos open source más seguros juntos
        </p>

        <p>
          -
        </p>

        <div>
          <h4>Referencias y recursos adicionales</h4>
          <ul>
            <li>
              <a href="https://github.blog/2022-02-09-coordinated-vulnerability-disclosure-cvd-open-source-projects/">
                Coordinated vulnerability disclosure for open source projects
              </a>
              <br>
              <small>
                https://github.blog/2022-02-09-coordinated-vulnerability-disclosure-cvd-open-source-projects/
              </small>
            </li>
            <li>
              <a href="https://cheatsheetseries.owasp.org/cheatsheets/Vulnerability_Disclosure_Cheat_Sheet.html">
                OWASP's vulnerability disclosure cheat sheet
              </a>
              <br>
              <small>
                https://cheatsheetseries.owasp.org/cheatsheets/Vulnerability_Disclosure_Cheat_Sheet.html
              </small>
            </li>
          </ul>
        </div>
        <footer class="fragment">
          <p>
            <small>
              <a href="https://stsewd.dev">
                <span>
                  Más sobre mi
                </span>
                <br />
                <span>https://stsewd.dev</span>
              </a>
            </small>
          </p>

          <p>
            <small>
              <a href="https://github.com/stsewd/charla-reportando-vulnerabilidades-en-proyectos-open-source">
                <span>
                  Código fuente <i class="fas fa-code-branch"></i>
                </span>
                <br />
                <span>https://github.com/stsewd/charla-reportando-vulnerabilidades-en-proyectos-open-source</span>
              </a>
            </small>
          </p>

          <p>
            <small>
              @stsewd
              <a href="http://github.com/stsewd"><i class="fab fa-github"></i></a>
              <a href="http://twitter.com/stsewd"><i class="fab fa-twitter"></i></a>
            </small>
          </p>
        </footer>
      </section>
    </div>
  </div>

  <script src="node_modules/reveal.js/dist/reveal.js"></script>
  <script src="node_modules/reveal.js/plugin/notes/notes.js"></script>
  <script src="node_modules/reveal.js/plugin/markdown/markdown.js"></script>
  <script src="node_modules/reveal.js/plugin/highlight/highlight.js"></script>
  <script>
    // More info about initialization & config:
    // - https://revealjs.com/initialization/
    // - https://revealjs.com/config/
    Reveal.initialize({
      hash: true,
      maxScale: 0.7,
      width: 1060,
      height: 800,
      // Learn about plugins: https://revealjs.com/plugins/
      plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
    });
  </script>
</body>

</html>
